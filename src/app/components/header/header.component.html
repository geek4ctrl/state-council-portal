<header class="header">
  <!-- Top Bar -->
  <div class="top-bar">
    <div class="container">
      <div class="top-bar-content">
        <div class="contact-info">
          <span class="contact-item">
            <app-icon name="phone" [size]="16"></app-icon>
            + 243 (21) 00000000
          </span>
          <span class="contact-item">
            <app-icon name="clock" [size]="16"></app-icon>
            MONDAY - FRIDAY 7:30AM - 6:30PM
          </span>
        </div>
        <div class="social-links">
          <a href="#" aria-label="Facebook" class="social-link">
            <app-icon name="facebook" [size]="18" fill="currentColor" stroke="none"></app-icon>
          </a>
          <a href="#" aria-label="Twitter" class="social-link">
            <app-icon name="twitter" [size]="18" fill="currentColor" stroke="none"></app-icon>
          </a>
          <a href="#" aria-label="Instagram" class="social-link">
            <app-icon name="instagram" [size]="18" fill="currentColor" stroke="none"></app-icon>
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- Main Navigation -->
  <nav class="main-nav" role="navigation" aria-label="Main navigation">
    <div class="container">
      <div class="nav-content">
        <!-- Logo -->
        <a href="/" class="logo" (click)="closeMobileMenu()" aria-label="State Council - Home">
          <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 100 100" fill="none" aria-hidden="true" focusable="false">
            <path d="M50 10 L15 30 L15 50 L50 90 L85 50 L85 30 Z" fill="#8B6914"/>
            <path d="M50 25 L30 35 L30 50 L50 70 L70 50 L70 35 Z" fill="#C8956B"/>
            <rect x="45" y="40" width="10" height="20" fill="white"/>
          </svg>
        </a>

        <!-- Hamburger Menu Button -->
        <button
          class="hamburger"
          (click)="toggleMobileMenu()"
          [class.active]="isMobileMenuOpen()"
          [attr.aria-expanded]="isMobileMenuOpen()"
          [attr.aria-label]="isMobileMenuOpen() ? 'Close menu' : 'Open menu'">
          <span></span>
          <span></span>
          <span></span>
        </button>

        <!-- Navigation Menu -->
        <ul class="nav-menu" [class.mobile-open]="isMobileMenuOpen()" role="menubar">
          <li class="nav-item" role="none">
            <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" class="nav-link" (click)="closeMobileMenu()" appPreloadOnHover="/" role="menuitem">
              HOME
            </a>
          </li>
          <li class="nav-item dropdown" role="none">
            <button
              class="nav-link dropdown-toggle"
              (click)="toggleCourtDropdown()"
              (keydown.escape)="closeDropdowns()"
              [class.active]="isCourtDropdownOpen()"
              [attr.aria-expanded]="isCourtDropdownOpen()"
              aria-haspopup="true"
              aria-label="The Court menu"
              role="menuitem">
              THE COURT
              <app-icon name="chevron-down" [size]="16" [customClass]="isCourtDropdownOpen() ? 'rotated' : ''" [attr.aria-hidden]="true"></app-icon>
            </button>
            @if (isCourtDropdownOpen()) {
              <ul class="dropdown-menu" role="menu" aria-label="The Court submenu">
                <li><a routerLink="/presentation" class="dropdown-link" (click)="closeMobileMenu()" appPreloadOnHover="/presentation">Presentation</a></li>
                <li><a routerLink="/organization" class="dropdown-link" (click)="closeMobileMenu()" appPreloadOnHover="/organization">Organization</a></li>
                <li><a routerLink="/reforms" class="dropdown-link" (click)="closeMobileMenu()" appPreloadOnHover="/reforms">Reforms</a></li>
                <li><a routerLink="/international-relations" class="dropdown-link" (click)="closeMobileMenu()" appPreloadOnHover="/international-relations">International Relations</a></li>
              </ul>
            }
          </li>
          <li class="nav-item">
            <a routerLink="/audiences" routerLinkActive="active" class="nav-link" (click)="closeMobileMenu()" appPreloadOnHover="/audiences">
              AUDIENCES
            </a>
          </li>
          <li class="nav-item dropdown">
            <button
              class="nav-link dropdown-toggle"
              (click)="toggleStepsDropdown()"
              [class.active]="isStepsDropdownOpen()">
              STEPS
              <app-icon name="chevron-down" [size]="16" [customClass]="isStepsDropdownOpen() ? 'rotated' : ''"></app-icon>
            </button>
            @if (isStepsDropdownOpen()) {
              <ul class="dropdown-menu">
                <li><a routerLink="/steps" [queryParams]="{tab: 'report'}" class="dropdown-link" (click)="closeMobileMenu()">Report</a></li>
                <li><a routerLink="/steps" [queryParams]="{tab: 'appointment'}" class="dropdown-link" (click)="closeMobileMenu()">Book Appointment</a></li>
                <li><a routerLink="/steps" [queryParams]="{tab: 'appeal'}" class="dropdown-link" (click)="closeMobileMenu()">File an Appeal</a></li>
              </ul>
            }
          </li>
          <li class="nav-item" role="none">
            <a routerLink="/news" routerLinkActive="active" class="nav-link" (click)="closeMobileMenu()" appPreloadOnHover="/news" role="menuitem">
              NEWS
            </a>
          </li>
          <li class="nav-item mobile-only" role="none">
            <button class="btn-appointment mobile" (click)="navigateToAppointment()" aria-label="Book an appointment">
              Book Appointment
            </button>
          </li>
        </ul>

        <!-- Book Appointment Button (Desktop Only) -->
        <button class="btn-appointment desktop-only" (click)="navigateToAppointment()" aria-label="Book an appointment">
          Book Appointment
        </button>
      </div>
    </div>
  </nav>
</header>
